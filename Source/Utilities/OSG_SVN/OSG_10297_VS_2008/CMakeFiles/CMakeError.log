Determining if the include file pthread.h exists failed with the following output:

Microsoft (R) Visual Studio Version 9.0.21022.8.
Copyright (C) Microsoft Corp. All rights reserved.
1>------ Build started: Project: cmTryCompileExec, Configuration: Debug Win32 ------
1>Compiling...
1>Microsoft (R) 32-bit C/C++ Optimizing Compiler Version 15.00.21022.08 for 80x86
1>Copyright (C) Microsoft Corporation.  All rights reserved.
1>cl /Od /D "WIN32" /D "_WINDOWS" /D "_DEBUG" /D "CMAKE_INTDIR=\"Debug\"" /D "_MBCS" /FD /EHsc /RTCs /MDd /Fo"cmTryCompileExec.dir\Debug\\" /Fd"C:/Stuff/gg/Source/Utilities/OSG_SVN/Visual_Studio_9_2008_Win32/CMakeFiles/CMakeTmp/Debug/cmTryCompileExec.pdb" /W3 /c /Zi /TC   /Zm1000
1>   .\CheckIncludeFile.c
1>CheckIncludeFile.c
1>.\CheckIncludeFile.c(1) : fatal error C1083: Cannot open include file: 'pthread.h': No such file or directory
1>Build log was saved at "file://c:\Stuff\gg\Source\Utilities\OSG_SVN\Visual_Studio_9_2008_Win32\CMakeFiles\CMakeTmp\cmTryCompileExec.dir\Debug\BuildLog.htm"
1>cmTryCompileExec - 1 error(s), 0 warning(s)
========== Build: 0 succeeded, 1 failed, 1 up-to-date, 0 skipped ==========


Performing C++ SOURCE FILE Test DEFAULT_GLU_TESS_CALLBACK_TRIPLEDOT failed with the following output:

Microsoft (R) Visual Studio Version 9.0.21022.8.
Copyright (C) Microsoft Corp. All rights reserved.
1>------ Build started: Project: cmTryCompileExec, Configuration: Debug Win32 ------
1>Compiling...
1>Microsoft (R) 32-bit C/C++ Optimizing Compiler Version 15.00.21022.08 for 80x86
1>Copyright (C) Microsoft Corporation.  All rights reserved.
1>cl /Od /I "C:\Stuff\gg\Source\Utilities\OSG_SVN\OpenSceneGraph\include" /I "C:\Stuff\gg\Source\Utilities\OSG_SVN\3rdparty\include" /D "WIN32" /D "_WINDOWS" /D "DEFAULT_GLU_TESS_CALLBACK_TRIPLEDOT" /D "_DEBUG" /D "GLU_TESS_CALLBACK_TRIPLEDOT" /D "CMAKE_INTDIR=\"Debug\"" /D "_MBCS" /FD /EHsc /RTCs /MDd /Fo"cmTryCompileExec.dir\Debug\\" /Fd"C:/Stuff/gg/Source/Utilities/OSG_SVN/Visual_Studio_9_2008_Win32/CMakeFiles/CMakeTmp/Debug/cmTryCompileExec.pdb" /W3 /c /Zi /TP   /Zm1000
1>   .\src.cxx
1>src.cxx
1>.\src.cxx(7) : error C2664: 'gluTessCallback' : cannot convert parameter 3 from 'GLU_TESS_CALLBACK' to 'void (__stdcall *)(void)'
1>        This conversion requires a reinterpret_cast, a C-style cast or function-style cast
1>Build log was saved at "file://c:\Stuff\gg\Source\Utilities\OSG_SVN\Visual_Studio_9_2008_Win32\CMakeFiles\CMakeTmp\cmTryCompileExec.dir\Debug\BuildLog.htm"
1>cmTryCompileExec - 1 error(s), 0 warning(s)
========== Build: 0 succeeded, 1 failed, 1 up-to-date, 0 skipped ==========

Source file was:
#include <osg/GL>
     #include <osg/GLU>
     static void testcb(GLvoid *, void*) { }
     int main()
     {
        GLUtesselator *t = gluNewTess();
        gluTessCallback(t, GLU_TESS_VERTEX_DATA, (GLU_TESS_CALLBACK) testcb);
        return 0;
     }
Performing C++ SOURCE FILE Test _OPENTHREADS_ATOMIC_USE_GCC_BUILTINS failed with the following output:

Microsoft (R) Visual Studio Version 9.0.21022.8.
Copyright (C) Microsoft Corp. All rights reserved.
1>------ Build started: Project: cmTryCompileExec, Configuration: Debug Win32 ------
1>Compiling...
1>Microsoft (R) 32-bit C/C++ Optimizing Compiler Version 15.00.21022.08 for 80x86
1>Copyright (C) Microsoft Corporation.  All rights reserved.
1>cl /Od /D "WIN32" /D "_WINDOWS" /D "_OPENTHREADS_ATOMIC_USE_GCC_BUILTINS" /D "_DEBUG" /D "CMAKE_INTDIR=\"Debug\"" /D "_MBCS" /FD /EHsc /RTCs /MDd /Fo"cmTryCompileExec.dir\Debug\\" /Fd"C:/Stuff/gg/Source/Utilities/OSG_SVN/Visual_Studio_9_2008_Win32/CMakeFiles/CMakeTmp/Debug/cmTryCompileExec.pdb" /W3 /c /Zi /TP   /Zm1000
1>   .\src.cxx
1>src.cxx
1>.\src.cxx(8) : error C3861: '__sync_add_and_fetch': identifier not found
1>.\src.cxx(9) : error C3861: '__sync_synchronize': identifier not found
1>.\src.cxx(10) : error C3861: '__sync_sub_and_fetch': identifier not found
1>.\src.cxx(11) : error C3861: '__sync_bool_compare_and_swap': identifier not found
1>.\src.cxx(14) : error C3861: '__sync_bool_compare_and_swap': identifier not found
1>Build log was saved at "file://c:\Stuff\gg\Source\Utilities\OSG_SVN\Visual_Studio_9_2008_Win32\CMakeFiles\CMakeTmp\cmTryCompileExec.dir\Debug\BuildLog.htm"
1>cmTryCompileExec - 5 error(s), 0 warning(s)
========== Build: 0 succeeded, 1 failed, 1 up-to-date, 0 skipped ==========

Return value: 
Source file was:

#include <cstdlib>

int main()
{
   unsigned value = 0;
   void* ptr = &value;
   __sync_add_and_fetch(&value, 1);
   __sync_synchronize();
   __sync_sub_and_fetch(&value, 1);
   if (!__sync_bool_compare_and_swap(&value, 0, 1))
      return EXIT_FAILURE;
   
   if (!__sync_bool_compare_and_swap(&ptr, ptr, ptr))
      return EXIT_FAILURE;

   return EXIT_SUCCESS;
}

Performing C++ SOURCE FILE Test _OPENTHREADS_ATOMIC_USE_MIPOSPRO_BUILTINS failed with the following output:

Microsoft (R) Visual Studio Version 9.0.21022.8.
Copyright (C) Microsoft Corp. All rights reserved.
1>------ Build started: Project: cmTryCompileExec, Configuration: Debug Win32 ------
1>Compiling...
1>Microsoft (R) 32-bit C/C++ Optimizing Compiler Version 15.00.21022.08 for 80x86
1>Copyright (C) Microsoft Corporation.  All rights reserved.
1>cl /Od /D "WIN32" /D "_WINDOWS" /D "_OPENTHREADS_ATOMIC_USE_MIPOSPRO_BUILTINS" /D "_DEBUG" /D "CMAKE_INTDIR=\"Debug\"" /D "_MBCS" /FD /EHsc /RTCs /MDd /Fo"cmTryCompileExec.dir\Debug\\" /Fd"C:/Stuff/gg/Source/Utilities/OSG_SVN/Visual_Studio_9_2008_Win32/CMakeFiles/CMakeTmp/Debug/cmTryCompileExec.pdb" /W3 /c /Zi /TP   /Zm1000
1>   .\src.cxx
1>src.cxx
1>.\src.cxx(8) : error C3861: '__add_and_fetch': identifier not found
1>.\src.cxx(9) : error C3861: '__synchronize': identifier not found
1>.\src.cxx(10) : error C3861: '__sub_and_fetch': identifier not found
1>.\src.cxx(11) : error C3861: '__compare_and_swap': identifier not found
1>.\src.cxx(14) : error C3861: '__compare_and_swap': identifier not found
1>Build log was saved at "file://c:\Stuff\gg\Source\Utilities\OSG_SVN\Visual_Studio_9_2008_Win32\CMakeFiles\CMakeTmp\cmTryCompileExec.dir\Debug\BuildLog.htm"
1>cmTryCompileExec - 5 error(s), 0 warning(s)
========== Build: 0 succeeded, 1 failed, 1 up-to-date, 0 skipped ==========

Return value: 
Source file was:

#include <stdlib.h>

int main(int, const char**)
{
   unsigned value = 0;
   void* ptr = &value;
   __add_and_fetch(&value, 1);
   __synchronize(value);
   __sub_and_fetch(&value, 1);
   if (!__compare_and_swap(&value, 0, 1))
      return EXIT_FAILURE;
   
   if (!__compare_and_swap((unsigned long*)&ptr, (unsigned long)ptr, (unsigned long)ptr))
      return EXIT_FAILURE;

   return EXIT_SUCCESS;
}

Performing C++ SOURCE FILE Test _OPENTHREADS_ATOMIC_USE_SUN failed with the following output:

Microsoft (R) Visual Studio Version 9.0.21022.8.
Copyright (C) Microsoft Corp. All rights reserved.
1>------ Build started: Project: cmTryCompileExec, Configuration: Debug Win32 ------
1>Compiling...
1>Microsoft (R) 32-bit C/C++ Optimizing Compiler Version 15.00.21022.08 for 80x86
1>Copyright (C) Microsoft Corporation.  All rights reserved.
1>cl /Od /D "WIN32" /D "_WINDOWS" /D "_OPENTHREADS_ATOMIC_USE_SUN" /D "_DEBUG" /D "CMAKE_INTDIR=\"Debug\"" /D "_MBCS" /FD /EHsc /RTCs /MDd /Fo"cmTryCompileExec.dir\Debug\\" /Fd"C:/Stuff/gg/Source/Utilities/OSG_SVN/Visual_Studio_9_2008_Win32/CMakeFiles/CMakeTmp/Debug/cmTryCompileExec.pdb" /W3 /c /Zi /TP   /Zm1000
1>   .\src.cxx
1>src.cxx
1>.\src.cxx(2) : fatal error C1083: Cannot open include file: 'atomic.h': No such file or directory
1>Build log was saved at "file://c:\Stuff\gg\Source\Utilities\OSG_SVN\Visual_Studio_9_2008_Win32\CMakeFiles\CMakeTmp\cmTryCompileExec.dir\Debug\BuildLog.htm"
1>cmTryCompileExec - 1 error(s), 0 warning(s)
========== Build: 0 succeeded, 1 failed, 1 up-to-date, 0 skipped ==========

Return value: 
Source file was:

#include <atomic.h>
#include <cstdlib>

int main(int, const char**)
{
   uint_t value = 0;
   void* ptr = &value;
   atomic_inc_uint_nv(&value);
   membar_consumer();
   atomic_dec_uint_nv(&value);
   if (0 != atomic_cas_uint(&value, 0, 1))
      return EXIT_FAILURE;
   
   if (ptr != atomic_cas_ptr(&ptr, ptr, ptr))
      return EXIT_FAILURE;

   return EXIT_SUCCESS;
}

Performing C++ SOURCE FILE Test _OPENTHREADS_ATOMIC_USE_BSD_ATOMIC failed with the following output:

Microsoft (R) Visual Studio Version 9.0.21022.8.
Copyright (C) Microsoft Corp. All rights reserved.
1>------ Build started: Project: cmTryCompileExec, Configuration: Debug Win32 ------
1>Compiling...
1>Microsoft (R) 32-bit C/C++ Optimizing Compiler Version 15.00.21022.08 for 80x86
1>Copyright (C) Microsoft Corporation.  All rights reserved.
1>cl /Od /D "WIN32" /D "_WINDOWS" /D "_OPENTHREADS_ATOMIC_USE_BSD_ATOMIC" /D "_DEBUG" /D "CMAKE_INTDIR=\"Debug\"" /D "_MBCS" /FD /EHsc /RTCs /MDd /Fo"cmTryCompileExec.dir\Debug\\" /Fd"C:/Stuff/gg/Source/Utilities/OSG_SVN/Visual_Studio_9_2008_Win32/CMakeFiles/CMakeTmp/Debug/cmTryCompileExec.pdb" /W3 /c /Zi /TP   /Zm1000
1>   .\src.cxx
1>src.cxx
1>.\src.cxx(2) : fatal error C1083: Cannot open include file: 'libkern/OSAtomic.h': No such file or directory
1>Build log was saved at "file://c:\Stuff\gg\Source\Utilities\OSG_SVN\Visual_Studio_9_2008_Win32\CMakeFiles\CMakeTmp\cmTryCompileExec.dir\Debug\BuildLog.htm"
1>cmTryCompileExec - 1 error(s), 0 warning(s)
========== Build: 0 succeeded, 1 failed, 1 up-to-date, 0 skipped ==========

Return value: 
Source file was:

#include <libkern/OSAtomic.h>

int main()
{
  volatile int32_t value = 0;
  long data = 0;
  long * volatile ptr = &data;
  
  OSAtomicIncrement32(&value);
  OSMemoryBarrier();
  OSAtomicDecrement32(&value);
  OSAtomicCompareAndSwapInt(value, 1, &value);
  OSAtomicCompareAndSwapPtr(ptr, ptr, (void * volatile *)&ptr);
}

